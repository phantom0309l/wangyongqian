// Generated by LiveScript 1.4.0
(function(){
  var log_reg;
  window.w = innerWidth;
  window.h = innerHeight;
  log_reg = {
    $id: "log_reg",
    left: (w - 540) / 2,
    account: "",
    password: "",
    btitle: true,
    waiting: function(){
      $('.err_msg').hide();
      return $('#waiting_err_log').fadeIn();
    },
    log_sub: function(){
      $('.err_msg').hide();
      lrm.account_check();
      if (!lrm.account_check()) {
        $('#acc_err_log').fadeIn();
        return false;
      }
      if (!lrm.pwd_check()) {
        $('#pwd_err_log').fadeIn();
        return false;
      }
      $.post("/man/login", {
        acc: lrm.account,
        pwd: lrm.password
      }, function(data, status){
        if (data === "fine") {
          $('#log_suc').fadeIn("fast", function(){
            window.location.href = '/manage/bt';
          });
        } else {
          $('#pwdnmtch_err_log').fadeIn();
        }
      });
    },
    account_check: function(){
      return Boolean(lrm.account);
    },
    pwd_check: function(){
      if (lrm.password.length < 8 || lrm.password.length > 18) {
        return false;
      } else {
        return true;
      }
    }
  };
  window.lrm = avalon.define(log_reg);
}).call(this);
